<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <style>
    body {
      font-family: -apple-system, system-ui, sans-serif;
      padding: 20px;
      background: var(--tg-theme-bg-color, #fff);
      color: var(--tg-theme-text-color, #000);
    }
    input { width: 100%; padding: 15px; font-size: 18px; margin: 10px 0; border: 2px solid #2481cc; border-radius: 8px; }
    .log { background: #f0f0f0; padding: 10px; margin: 10px 0; border-radius: 5px; font-size: 12px; overflow-x: auto; }
    .status { padding: 10px; margin: 10px 0; border-radius: 5px; }
    .success { background: #d4edda; color: #155724; }
    .error { background: #f8d7da; color: #721c24; }
  </style>
</head>
<body>
  <h2>üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ Web App</h2>
  
  <div id="info" class="log">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
  
  <input type="date" id="birthdate" max="2010-12-31" min="1940-01-01">
  
  <div id="status"></div>
  
  <script>
    const infoDiv = document.getElementById('info');
    const statusDiv = document.getElementById('status');
    const birthdateInput = document.getElementById('birthdate');
    
    function log(message, isError = false) {
      const time = new Date().toLocaleTimeString();
      const logEntry = `[${time}] ${message}`;
      console.log(logEntry);
      infoDiv.innerHTML += logEntry + '<br>';
      if (isError) {
        infoDiv.style.background = '#f8d7da';
      }
    }
    
    function showStatus(message, isSuccess) {
      statusDiv.innerHTML = message;
      statusDiv.className = 'status ' + (isSuccess ? 'success' : 'error');
    }
    
    log('üì± –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—â–µ–Ω');
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ Telegram WebApp
    if (!window.Telegram || !window.Telegram.WebApp) {
      log('‚ùå –û–®–ò–ë–ö–ê: Telegram.WebApp –Ω–µ –Ω–∞–π–¥–µ–Ω!', true);
      showStatus('‚ùå –û—à–∏–±–∫–∞: —ç—Ç–æ –Ω–µ Telegram Web App', false);
    } else {
      const tg = window.Telegram.WebApp;
      
      log('‚úÖ Telegram.WebApp –Ω–∞–π–¥–µ–Ω');
      log('–í–µ—Ä—Å–∏—è: ' + tg.version);
      log('–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞: ' + tg.platform);
      log('initData: ' + (tg.initData ? '–µ—Å—Ç—å' : '–Ω–µ—Ç'));
      log('initDataUnsafe: ' + JSON.stringify(tg.initDataUnsafe));
      
      // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
      try {
        tg.ready();
        log('‚úÖ tg.ready() –≤—ã–ø–æ–ª–Ω–µ–Ω');
      } catch(e) {
        log('‚ùå –û—à–∏–±–∫–∞ tg.ready(): ' + e.message, true);
      }
      
      try {
        tg.expand();
        log('‚úÖ tg.expand() –≤—ã–ø–æ–ª–Ω–µ–Ω');
      } catch(e) {
        log('‚ùå –û—à–∏–±–∫–∞ tg.expand(): ' + e.message, true);
      }
      
      // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ MainButton
      try {
        tg.MainButton.setText("–û–¢–ü–†–ê–í–ò–¢–¨ –î–ê–¢–£");
        tg.MainButton.color = "#2481cc";
        tg.MainButton.textColor = "#ffffff";
        tg.MainButton.show();
        log('‚úÖ MainButton –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ –ø–æ–∫–∞–∑–∞–Ω');
      } catch(e) {
        log('‚ùå –û—à–∏–±–∫–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ MainButton: ' + e.message, true);
      }
      
      // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–∞—Ç—ã
      birthdateInput.addEventListener('change', function() {
        log('üìÖ –î–∞—Ç–∞ –≤—ã–±—Ä–∞–Ω–∞: ' + this.value);
        if (this.value) {
          tg.MainButton.enable();
          log('‚úÖ MainButton –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω');
        }
      });
      
      // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–∞–∂–∞—Ç–∏—è MainButton
      tg.MainButton.onClick(function() {
        const date = birthdateInput.value;
        
        log('üîò MainButton –Ω–∞–∂–∞—Ç');
        log('–í—ã–±—Ä–∞–Ω–Ω–∞—è –¥–∞—Ç–∞: ' + date);
        
        if (!date) {
          log('‚ö†Ô∏è –î–∞—Ç–∞ –Ω–µ –≤—ã–±—Ä–∞–Ω–∞', true);
          try {
            tg.showAlert("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—É");
          } catch(e) {
            alert("–í—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—É!");
          }
          return;
        }
        
        showStatus('üì§ –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö: ' + date, true);
        log('üì§ –ü–æ–ø—ã—Ç–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö: ' + date);
        
        try {
          // –ü—Ä–æ–±—É–µ–º sendData
          tg.sendData(date);
          log('‚úÖ tg.sendData() –≤—ã–∑–≤–∞–Ω —É—Å–ø–µ—à–Ω–æ');
          showStatus('‚úÖ –î–∞–Ω–Ω—ã–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã: ' + date, true);
          
          // –ó–∞–∫—Ä—ã–≤–∞–µ–º —á–µ—Ä–µ–∑ 500–º—Å
          setTimeout(function() {
            log('üö™ –ü–æ–ø—ã—Ç–∫–∞ –∑–∞–∫—Ä—ã—Ç—å Web App');
            try {
              tg.close();
              log('‚úÖ tg.close() –≤—ã–ø–æ–ª–Ω–µ–Ω');
            } catch(e) {
              log('‚ùå –û—à–∏–±–∫–∞ tg.close(): ' + e.message, true);
            }
          }, 500);
          
        } catch(e) {
          log('‚ùå –û–®–ò–ë–ö–ê sendData: ' + e.message, true);
          showStatus('‚ùå –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏: ' + e.message, false);
        }
      });
      
      log('‚úÖ –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã');
      showStatus('‚úÖ Web App –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ', true);
    }
  </script>
</body>
</html>
```

---

## –ó–∞–≥—Ä—É–∑–∏—Ç–µ —ç—Ç–æ –Ω–∞ Vercel –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ

1. –ó–∞–º–µ–Ω–∏—Ç–µ —Ñ–∞–π–ª –Ω–∞ Vercel —ç—Ç–∏–º –∫–æ–¥–æ–º
2. –û—Ç–∫—Ä–æ–π—Ç–µ Web App –≤ Telegram
3. –í—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—É
4. –ù–∞–∂–º–∏—Ç–µ "–û–¢–ü–†–ê–í–ò–¢–¨ –î–ê–¢–£"
5. **–°–¥–µ–ª–∞–π—Ç–µ —Å–∫—Ä–∏–Ω—à–æ—Ç** –≤—Å–µ–≥–æ —á—Ç–æ –Ω–∞–ø–∏—Å–∞–Ω–æ –≤ —Ä–∞–∑–¥–µ–ª–µ "üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ Web App"
6. –ü—Ä–∏—à–ª–∏—Ç–µ –º–Ω–µ —ç—Ç–æ—Ç —Å–∫—Ä–∏–Ω—à–æ—Ç

---

## –¢–∞–∫–∂–µ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ Make:

–î–æ–±–∞–≤—å—Ç–µ **–≤—Ä–µ–º–µ–Ω–Ω—ã–π –º–æ–¥—É–ª—å –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏** —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ Webhook:

**Tools ‚Üí Set Variable**
```
webhook_debug: {{toString(1)}}
message_type: {{if(exists(1.message.web_app_data); "web_app_data"; if(exists(1.message.text); "text"; if(exists(1.callback_query); "callback"; "unknown")))}}
